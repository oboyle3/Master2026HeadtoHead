<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h2 {
            margin-bottom: 20px;
        }
        .slots {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .slot-card {
            border: 1px solid #ccc;
            padding: 15px;
            width: 150px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }
        .slot-card a {
            text-decoration: none;
            color: #007BFF;
        }
    </style>
</head>
<body>
    <h1>Dashboard</h1>
    <h2>Your Golfers</h2>
    <h2>Your Team Average Score</h2>
    <p>{{ average_score }}</p>    

    <div class="slots">

        <!-- SLOT 1 -->
        <div class="slot-card">
            <strong>Slot 1</strong> — <a href="{% url 'updateslot1' %}">Update</a><br>
            {% if lineup.selection1 %}
                {{ lineup.selection1.name }}<br>
                Rating: {{ lineup.selection1.rating }}
            {% else %}
                <em>Empty</em>
            {% endif %}
        </div>

        <!-- SLOT 2 -->
        <div class="slot-card">
            <strong>Slot 2</strong> — <a href="{% url 'updateslot2' %}">Update</a><br>
            {% if lineup.selection2 %}
                {{ lineup.selection2.name }}<br>
                Rating: {{ lineup.selection2.rating }}
            {% else %}
                <em>Empty</em>
            {% endif %}
        </div>

        <!-- SLOT 3 -->
        <div class="slot-card">
            <strong>Slot 3</strong> — <a href="{% url 'updateslot3' %}">Update</a><br>
            {% if lineup.selection3 %}
                {{ lineup.selection3.name }}<br>
                Rating: {{ lineup.selection3.rating }}
            {% else %}
                <em>Empty</em>
            {% endif %}
        </div>

        <!-- SLOT 4 -->
        <div class="slot-card">
            <strong>Slot 4</strong> — <a href="{% url 'updateslot4' %}">Update</a><br>
            {% if lineup.selection4 %}
                {{ lineup.selection4.name }}<br>
                Rating: {{ lineup.selection4.rating }}
            {% else %}
                <em>Empty</em>
            {% endif %}
        </div>

        <!-- SLOT 5 -->
        <div class="slot-card">
            <strong>Slot 5</strong> — <a href="{% url 'updateslot5' %}">Update</a><br>
            {% if lineup.selection5 %}
                {{ lineup.selection5.name }}<br>
                Rating: {{ lineup.selection5.rating }}
            {% else %}
                <em>Empty</em>
            {% endif %}
        </div>

    </div>
    <h2>Leaderboard (Through Round {{ rounds_completed }})</h2>

<table>
    <tr>
        <th>Rank</th>
        <th>User</th>
        <th>Avg Score</th>
    </tr>
    {% for row in leaderboard %}
    <tr {% if row.user == request.user.username %}style="font-weight:bold;"{% endif %}>
        <td>{{ forloop.counter }}</td>
        <td>{{ row.user }}</td>
        <td>{{ row.average_score|floatformat:2 }}</td>
    </tr>
    {% endfor %}
</table>
</body>
</html>


<a href="{% url 'logout' %}">Logout</a>
